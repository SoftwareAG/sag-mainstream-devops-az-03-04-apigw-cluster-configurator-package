# Software AG Mainstream DevOps Style API Gateway Cluster Configurator Package

## Overview

This repository provides a base Integration Server package that provides a way to configure the API Gateway cluster at Integration server startup time.

In order to provide the configuration, the user must provide a json file and declare its position in the environement variable `WX_CONFIG_APIGATEWAY_CLUSTER_JSON_FILE`. Inspect the run-configurations folder for examples.

A json file containing the current settable configuration can be generated by opening a browser to `http://host.docker.internal:47355/invoke/wx.apigateway/getCurrent`.

The provided configuration contain as many "documents" or "sections" as the supported configurations. the first implemented one is `elasticsearchDestinationConfig`. These sections match exactly the ones served by the services `apigateway.configurations:getConfiguration` and `apigateway.configurations:getConfiguration`, which are the same as the tokens to be postfixed to the "configurations" API.

For each section, the package will verify if the configuration is already set or not. If yes, it will ignore the sectio, otherwise it will set the given values. Each section has a subfolder that implements the exact logic of the given section.

## Disclaimer

______________
These tools are provided as-is and without warranty or support. They do not constitute part of the Software AG product suite. Users are free to use, fork and modify them, subject to the license agreement. While Software AG welcomes contributions, we cannot guarantee to include every contribution in the master project.
